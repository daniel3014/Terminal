<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Jarvis</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
  --bg1:#0f2027;
  --bg2:#203a43;
  --bg3:#2c5364;
  --glass:rgba(255,255,255,.12);
  --text:#fff;
  --sub:rgba(255,255,255,.7);
}

.light{
  --bg1:#74ebd5;
  --bg2:#ACB6E5;
  --bg3:#ffffff;
  --glass:rgba(255,255,255,.55);
  --text:#111;
  --sub:#444;
}

body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  color:var(--text);
}

.app{
  padding:20px;
  height:100%;
  display:grid;
  grid-template-columns:1.2fr 1fr;
  grid-template-rows:auto auto 1fr auto;
  gap:18px;
}

/* ===== SLIDER ===== */
.theme-slider{
  grid-column:2;
  justify-self:end;
  width:168px;
  height:38px;
  background:rgba(255,255,255,.18);
  border-radius:19px;
  display:flex;
  align-items:center;
  position:relative;
  backdrop-filter:blur(26px);
  user-select:none;
  touch-action:none;
}

.theme-slider span{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  color:var(--sub);
  z-index:2;
  pointer-events:none;
}

.slider-thumb{
  position:absolute;
  top:4px;
  left:4px;
  width:calc(33.333% - 8px);
  height:30px;
  background:rgba(255,255,255,.92);
  border-radius:15px;
  transition:transform .25s cubic-bezier(.25,.8,.25,1);
  will-change:transform;
}

/* ===== CLOCK ===== */
.clock{grid-column:span 2;text-align:center;}
.time{font-size:74px;font-weight:300;}
.date{font-size:16px;color:var(--sub);}

/* ===== WIDGET ===== */
.widget{
  background:var(--glass);
  border-radius:28px;
  padding:20px;
  backdrop-filter:blur(30px);
  box-shadow:
    0 12px 35px rgba(0,0,0,.15),
    inset 0 1px 1px rgba(255,255,255,.2);
}

.weather-main{font-size:40px;}
.weather-sub{font-size:14px;color:var(--sub);margin-top:6px;}
.forecast{display:flex;justify-content:space-between;margin-top:14px;font-size:14px;}

input{
  grid-column:span 2;
  padding:16px;
  border-radius:22px;
  border:none;
  outline:none;
  font-size:16px;
  background:rgba(255,255,255,.18);
  color:var(--text);
  backdrop-filter:blur(24px);
}
</style>
</head>

<body>
<div class="app">

  <!-- SLIDER -->
  <div class="theme-slider" id="slider">
    <div class="slider-thumb" id="thumb"></div>
    <span>‚òÄÔ∏è</span>
    <span>AUTO</span>
    <span>üåô</span>
  </div>

  <!-- CLOCK -->
  <div class="clock widget">
    <div class="time" id="time">--:--</div>
    <div class="date" id="date">---</div>
  </div>

  <!-- WEATHER -->
  <div class="widget">
    <div class="weather-main">23¬∞C</div>
    <div class="weather-sub">
      Sensa√ß√£o: 25¬∞C<br>
      Precipita√ß√£o: 10%
    </div>
  </div>

  <!-- FORECAST -->
  <div class="widget">
    <div>Pr√≥ximos dias</div>
    <div class="forecast">
      <div>‚òÄÔ∏è 24¬∞</div>
      <div>üåßÔ∏è 22¬∞</div>
      <div>‚õÖ 23¬∞</div>
    </div>
  </div>

  <input placeholder="Diga: Jarvis‚Ä¶ ou digite aqui">

</div>

<script>
document.addEventListener("DOMContentLoaded",()=>{

  const modes=["light","auto","dark"];
  let mode=localStorage.getItem("mode")||"auto";

  const slider=document.getElementById("slider");
  const thumb=document.getElementById("thumb");

  const sliderWidth=slider.clientWidth;
  const segment=sliderWidth/3;
  const maxX=segment*2;

  function setThumb(x, animate=true){
    if(!animate) thumb.style.transition="none";
    else thumb.style.transition="transform .25s cubic-bezier(.25,.8,.25,1)";
    thumb.style.transform=`translateX(${x}px)`;
  }

  function applyMode(){
    document.body.classList.remove("light");
    if(mode==="light") document.body.classList.add("light");
    if(mode==="auto"){
      const h=new Date().getHours();
      if(h>=6&&h<18) document.body.classList.add("light");
    }
    setThumb(modes.indexOf(mode)*segment);
    localStorage.setItem("mode",mode);
  }

  /* CLICK */
  slider.addEventListener("click",e=>{
    if(dragging) return;
    const rect=slider.getBoundingClientRect();
    const x=e.clientX-rect.left;
    const index=Math.min(2,Math.max(0,Math.floor(x/segment)));
    mode=modes[index];
    applyMode();
  });

  /* DRAG */
  let dragging=false;

  slider.addEventListener("pointerdown",e=>{
    dragging=true;
    thumb.style.transition="none";
  });

  window.addEventListener("pointermove",e=>{
    if(!dragging) return;
    const rect=slider.getBoundingClientRect();
    let x=e.clientX-rect.left-segment/2;
    x=Math.max(0,Math.min(maxX,x));
    setThumb(x,false);
  });

  window.addEventListener("pointerup",e=>{
    if(!dragging) return;
    dragging=false;
    const rect=slider.getBoundingClientRect();
    const x=e.clientX-rect.left;
    const index=Math.min(2,Math.max(0,Math.round(x/segment)));
    mode=modes[index];
    applyMode();
  });

  function updateClock(){
    const n=new Date();
    time.innerText=n.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
    date.innerText=n.toLocaleDateString('pt-BR',{weekday:'long',day:'numeric',month:'long'});
  }

  applyMode();
  updateClock();
  setInterval(updateClock,1000);
});
</script>
</body>
</html>
